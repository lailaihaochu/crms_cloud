{"remainingRequest":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\src\\views\\table\\shiphub-location-edit-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\src\\views\\table\\shiphub-location-edit-table.vue","mtime":1626314413711},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7IGZldGNoTGlzdCB9IGZyb20gJ0AvYXBpL2FydGljbGUnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmxpbmVMb2NhdGlvbkVkaXQnLAogIGZpbHRlcnM6IHsKICAgIHN0YXR1c0ZpbHRlcihzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgIHB1Ymxpc2hlZDogJ3N1Y2Nlc3MnLAogICAgICAgIGRyYWZ0OiAnaW5mbycsCiAgICAgICAgZGVsZXRlZDogJ2RhbmdlcicKICAgICAgfQogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBudWxsLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTAKICAgICAgfSwKICAgICAgdGV4dE1hcDogewogICAgICAgIHVwZGF0ZTogJ0VkaXQnLAogICAgICAgIGNyZWF0ZTogJ0NyZWF0ZScKICAgICAgfSwKICAgICAgc2hpcGh1YkxvY2F0aW9uSW5mbzogewogICAgICAgIGxvY2F0aW9uX251bTogJzEnLAogICAgICAgIGxvbmdpdHVkZTogJycsCiAgICAgICAgbGF0aXR1ZGU6ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ1N0YXR1czogJycsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgcnVsZXM6IHsKCiAgICAgIH0sCiAgICAgIHRlc3Q6ICcnCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldExpc3QoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIC8vIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZmV0Y2hMaXN0KHRoaXMubGlzdFF1ZXJ5KQogICAgICAvLyBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9zaGlwaHViLWFzaWEucHJlcHJvZC5zdWJzaWRpYS5vcmcvc2hpcGh1Yl9sb2NhdGlvbi9sb2NhdGlvbnM/bG9jYXRpb25fbnVtX2xpc3Q9MDA3MDAzODgwMDM4OCwwMDcwMDg1MDAwODUwJykKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTIwMDEvc2hpcGh1Yl93ZWIvc3RvcmVzL2xvY2F0aW9uL2xpc3Q/bG9jYXRpb25fbnVtX2xpc3Q9MDA3MDAzODgwMDM4OCwwMDcwMDg1MDAwODUwJykKICAgICAgdGhpcy5saXN0ID0gZGF0YQogICAgICB0aGlzLmxpc3QgPSBkYXRhLm1hcCh2ID0+IHsKICAgICAgICB0aGlzLiRzZXQodiwgJ2VkaXQnLCBmYWxzZSkKICAgICAgICByZXR1cm4gdgogICAgICB9KQogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgIH0sCiAgICBjYW5jZWxFZGl0KHJvdykgewogICAgICByb3cudGl0bGUgPSByb3cub3JpZ2luYWxUaXRsZQogICAgICByb3cuZWRpdCA9IGZhbHNlCiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICdUaGUgdGl0bGUgaGFzIGJlZW4gcmVzdG9yZWQgdG8gdGhlIG9yaWdpbmFsIHZhbHVlJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkKICAgIH0sCiAgICBjb25maXJtRWRpdCgpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogJ1RoZSB0aXRsZSBoYXMgYmVlbiBlZGl0ZWQnLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5zaGlwaHViTG9jYXRpb25JbmZvLmxvY2F0aW9uX251bSA9IHJvdy5sb2NhdGlvbl9udW0KICAgICAgdGhpcy5zaGlwaHViTG9jYXRpb25JbmZvLmxvbmdpdHVkZSA9IHJvdy5sb25naXR1ZGUKICAgICAgdGhpcy5zaGlwaHViTG9jYXRpb25JbmZvLmxhdGl0dWRlID0gcm93LmxhdGl0dWRlCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ3VwZGF0ZScKICAgIH0sCiAgICBhc3luYyB1cGRhdGVEYXRhKCkgewogICAgICBjb25zdCBqc29uQXJyID0gW10KICAgICAganNvbkFyci5wdXNoKHRoaXMuc2hpcGh1YkxvY2F0aW9uSW5mbykKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnCiAgICAgICAgfSwKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjEyMDAxL3NoaXBodWJfd2ViL3N0b3Jlcy91cGRhdGUvbG9jYXRpb25zJywKICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShqc29uQXJyKQogICAgICB9KQogICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09ICcyMTAwMDAnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAnVGhlIGVkaXQgaXMgc3VjY2Vzc++8gScsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KQogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAnVGhlIGVkaXQgaXMgZXJyb3LvvIEnLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pCiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["shiphub-location-edit-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shiphub-location-edit-table.vue","sourceRoot":"src/views/table","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table v-loading=\"listLoading\" :data=\"list\" border fit highlight-current-row style=\"width: 100%\">\n\n      <el-table-column width=\"180px\" align=\"center\" label=\"location_num\" prop=\"location_num\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.location_num }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"location_name\" prop=\"location_name\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.location_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"longitude\" prop=\"longitude\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.longitude }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"latitude\" prop=\"latitude\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.latitude }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"200px\" align=\"center\" label=\"created_time\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.created_time | parseTime('{y}-{m}-{d} {h}:{i}') }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column width=\"200px\" align=\"center\" label=\"updated_time\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.updated_time | parseTime('{y}-{m}-{d} {h}:{i}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Actions\" width=\"165\">\n        <template slot-scope=\"{row}\">\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(row)\"\n          >\n            Edit\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"shiphubLocationInfo\" label-position=\"left\" label-width=\"140px\" style=\"width: 400px; margin-left:50px;\">\n        <el-form-item label=\"location_num\" prop=\"location_num\">\n          <p>{{shiphubLocationInfo.location_num}}</p>\n        </el-form-item>\n        <el-form-item label=\"longitude\" prop=\"longitude\">\n          <el-input v-model=\"shiphubLocationInfo.longitude\"  />\n        </el-form-item>\n        <el-form-item label=\"latitude\" prop=\"latitude\">\n          <el-input v-model=\"shiphubLocationInfo.latitude\"  />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">\n          Cancel\n        </el-button>\n        <el-button type=\"primary\" @click=\"dialogStatus==='create'?createData():updateData()\">\n          Confirm\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import { fetchList } from '@/api/article'\nimport axios from 'axios'\nexport default {\n  name: 'InlineLocationEdit',\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'info',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 10\n      },\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      shiphubLocationInfo: {\n        location_num: '1',\n        longitude: '',\n        latitude: ''\n      },\n      dialogStatus: '',\n      dialogFormVisible: false,\n      rules: {\n\n      },\n      test: ''\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    async getList() {\n      this.listLoading = true\n      // const { data } = await fetchList(this.listQuery)\n      // const { data } = await axios.get('https://shiphub-asia.preprod.subsidia.org/shiphub_location/locations?location_num_list=0070038800388,0070085000850')\n      const { data } = await axios.get('http://localhost:12001/shiphub_web/stores/location/list?location_num_list=0070038800388,0070085000850')\n      this.list = data\n      this.list = data.map(v => {\n        this.$set(v, 'edit', false)\n        return v\n      })\n      this.listLoading = false\n    },\n    cancelEdit(row) {\n      row.title = row.originalTitle\n      row.edit = false\n      this.$message({\n        message: 'The title has been restored to the original value',\n        type: 'warning'\n      })\n    },\n    confirmEdit() {\n      this.$message({\n        message: 'The title has been edited',\n        type: 'success'\n      })\n    },\n    handleUpdate(row) {\n      this.shiphubLocationInfo.location_num = row.location_num\n      this.shiphubLocationInfo.longitude = row.longitude\n      this.shiphubLocationInfo.latitude = row.latitude\n      this.dialogFormVisible = true\n      this.dialogStatus = 'update'\n    },\n    async updateData() {\n      const jsonArr = []\n      jsonArr.push(this.shiphubLocationInfo)\n      const response = await axios({\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        method: 'post',\n        url: 'http://localhost:12001/shiphub_web/stores/update/locations',\n        data: JSON.stringify(jsonArr)\n      })\n      if (response.data.status === '210000') {\n        this.$message({\n          message: 'The edit is success！',\n          type: 'success'\n        })\n        this.dialogFormVisible = false\n        this.getList()\n      } else {\n        this.$message({\n          message: 'The edit is error！',\n          type: 'error'\n        })\n        this.dialogFormVisible = false\n        this.getList()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.edit-input {\n  padding-right: 100px;\n}\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n</style>\n"]}]}