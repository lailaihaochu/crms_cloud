{"remainingRequest":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\src\\views\\table\\shiphub-location-edit-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\src\\views\\table\\shiphub-location-edit-table.vue","mtime":1623204242975},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files\\nodejs\\vue_project\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1Byb2dyYW0gRmlsZXMvbm9kZWpzL3Z1ZV9wcm9qZWN0L3Z1ZS1lbGVtZW50LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQgeyBmZXRjaExpc3QgfSBmcm9tICdAL2FwaS9hcnRpY2xlJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0lubGluZUxvY2F0aW9uRWRpdCcsCiAgZmlsdGVyczogewogICAgc3RhdHVzRmlsdGVyOiBmdW5jdGlvbiBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNNYXAgPSB7CiAgICAgICAgcHVibGlzaGVkOiAnc3VjY2VzcycsCiAgICAgICAgZHJhZnQ6ICdpbmZvJywKICAgICAgICBkZWxldGVkOiAnZGFuZ2VyJwogICAgICB9OwogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c107CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwCiAgICAgIH0sCiAgICAgIHRleHRNYXA6IHsKICAgICAgICB1cGRhdGU6ICdFZGl0JywKICAgICAgICBjcmVhdGU6ICdDcmVhdGUnCiAgICAgIH0sCiAgICAgIHNoaXBodWJMb2NhdGlvbkluZm86IHsKICAgICAgICBsb2NhdGlvbl9udW06ICcxJywKICAgICAgICBsb25naXR1ZGU6ICcnLAogICAgICAgIGxhdGl0dWRlOiAnJwogICAgICB9LAogICAgICBkaWFsb2dTdGF0dXM6ICcnLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHJ1bGVzOiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkZ2V0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IHRydWU7IC8vIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZmV0Y2hMaXN0KHRoaXMubGlzdFF1ZXJ5KQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDoxMjAwOC9zaGlwaHViX2xvY2F0aW9uL2xvY2F0aW9ucz9sb2NhdGlvbl9udW1fbGlzdD0wMDcwMDM4ODAwMzg4LDAwNzAwODUwMDA4NTAnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMubGlzdCA9IGRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5saXN0ID0gZGF0YS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHNldCh2LCAnZWRpdCcsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiB2OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FuY2VsRWRpdDogZnVuY3Rpb24gY2FuY2VsRWRpdChyb3cpIHsKICAgICAgcm93LnRpdGxlID0gcm93Lm9yaWdpbmFsVGl0bGU7CiAgICAgIHJvdy5lZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICdUaGUgdGl0bGUgaGFzIGJlZW4gcmVzdG9yZWQgdG8gdGhlIG9yaWdpbmFsIHZhbHVlJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybUVkaXQ6IGZ1bmN0aW9uIGNvbmZpcm1FZGl0KCkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAnVGhlIHRpdGxlIGhhcyBiZWVuIGVkaXRlZCcsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnNoaXBodWJMb2NhdGlvbkluZm8ubG9jYXRpb25fbnVtID0gcm93LmxvY2F0aW9uX251bTsKICAgICAgdGhpcy5zaGlwaHViTG9jYXRpb25JbmZvLmxvbmdpdHVkZSA9IHJvdy5sb25naXR1ZGU7CiAgICAgIHRoaXMuc2hpcGh1YkxvY2F0aW9uSW5mby5sYXRpdHVkZSA9IHJvdy5sYXRpdHVkZTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ3VwZGF0ZSc7CiAgICB9LAogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIganNvbkFyciwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGpzb25BcnIgPSBbXTsKICAgICAgICAgICAgICAgIGpzb25BcnIucHVzaChfdGhpczIuc2hpcGh1YkxvY2F0aW9uSW5mbyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDoxMjAwOC9zaGlwaHViX2xvY2F0aW9uL3VwZGF0ZS9sb2NhdGlvbnMnLCBKU09OLnBhcnNlKGpzb25BcnIpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgICAgICAgcm93ID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["shiphub-location-edit-table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table v-loading=\"listLoading\" :data=\"list\" border fit highlight-current-row style=\"width: 100%\">\n\n      <el-table-column width=\"180px\" align=\"center\" label=\"location_num\" prop=\"location_num\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.location_num }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"location_name\" prop=\"location_name\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.location_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"longitude\" prop=\"longitude\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.longitude }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"180px\" align=\"center\" label=\"latitude\" prop=\"latitude\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.latitude }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"200px\" align=\"center\" label=\"created_time\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.created_time | parseTime('{y}-{m}-{d} {h}:{i}') }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column width=\"200px\" align=\"center\" label=\"updated_time\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.updated_time | parseTime('{y}-{m}-{d} {h}:{i}') }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Actions\" width=\"165\">\n        <template slot-scope=\"{row}\">\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(row)\"\n          >\n            Edit\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"shiphubLocationInfo\" label-position=\"left\" label-width=\"140px\" style=\"width: 400px; margin-left:50px;\">\n        <el-form-item label=\"location_num\" prop=\"location_num\">\n          <p>{{shiphubLocationInfo.location_num}}</p>\n        </el-form-item>\n        <el-form-item label=\"latitude\" prop=\"latitude\">\n          <el-input v-model=\"shiphubLocationInfo.latitude\"  />\n        </el-form-item>\n        <el-form-item label=\"longitude\" prop=\"longitude\">\n          <el-input v-model=\"shiphubLocationInfo.longitude\"  />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">\n          Cancel\n        </el-button>\n        <el-button type=\"primary\" @click=\"dialogStatus==='create'?createData():updateData()\">\n          Confirm\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import { fetchList } from '@/api/article'\nimport axios from 'axios'\nexport default {\n  name: 'InlineLocationEdit',\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'info',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 10\n      },\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      shiphubLocationInfo: {\n        location_num: '1',\n        longitude: '',\n        latitude: ''\n      },\n      dialogStatus: '',\n      dialogFormVisible: false,\n      rules: {\n\n      }\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    async getList() {\n      this.listLoading = true\n      // const { data } = await fetchList(this.listQuery)\n      const { data } = await axios.get('http://localhost:12008/shiphub_location/locations?location_num_list=0070038800388,0070085000850')\n      this.list = data\n      this.list = data.map(v => {\n        this.$set(v, 'edit', false)\n        return v\n      })\n      this.listLoading = false\n    },\n    cancelEdit(row) {\n      row.title = row.originalTitle\n      row.edit = false\n      this.$message({\n        message: 'The title has been restored to the original value',\n        type: 'warning'\n      })\n    },\n    confirmEdit() {\n      this.$message({\n        message: 'The title has been edited',\n        type: 'success'\n      })\n    },\n    handleUpdate(row) {\n      this.shiphubLocationInfo.location_num = row.location_num\n      this.shiphubLocationInfo.longitude = row.longitude\n      this.shiphubLocationInfo.latitude = row.latitude\n      this.dialogFormVisible = true\n      this.dialogStatus = 'update'\n    },\n    async updateData(row) {\n      const jsonArr = []\n      jsonArr.push(this.shiphubLocationInfo);\n      const response = await axios.post('http://localhost:12008/shiphub_location/update/locations', JSON.parse(jsonArr))\n      debugger\n      row = response.data\n    }\n  }\n}\n</script>\n\n<style scoped>\n.edit-input {\n  padding-right: 100px;\n}\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/table"}]}